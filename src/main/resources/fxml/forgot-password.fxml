<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<HBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.birdsenger.controllers.ForgotPasswordController"
      stylesheets="@../css/auth.css">

    <!-- Left Side - Form -->
    <VBox styleClass="auth-left" prefWidth="650" spacing="20" alignment="TOP_LEFT">
        <padding>
            <Insets top="60" right="80" bottom="60" left="80"/>
        </padding>

        <!-- Logo -->
        <HBox spacing="15" alignment="CENTER_LEFT">
            <VBox styleClass="logo-circle" prefWidth="40" prefHeight="40"/>
            <Label text="BirdSenger app." styleClass="logo-text"/>
        </HBox>

        <Region VBox.vgrow="SOMETIMES"/>

        <!-- Title -->
        <VBox spacing="12">
            <Text text="Reset your password" styleClass="auth-title"/>
            <HBox spacing="5" alignment="CENTER_LEFT">
                <Label text="Sign in to your account!" styleClass="auth-subtitle"/>
                <Hyperlink fx:id="loginLink" text="Log in"
                           styleClass="auth-link" onAction="#handleLogin"/>
            </HBox>
        </VBox>

        <!-- Form Fields -->
        <VBox spacing="20" styleClass="form-container">
            <!-- Username -->
            <VBox spacing="8">
                <Label text="Username" styleClass="field-label"/>
                <TextField fx:id="usernameField" promptText="fariba.tanzim"
                           styleClass="auth-field"/>
            </VBox>

            <!-- Security Question -->
            <VBox spacing="8">
                <Label text="Security Question" styleClass="field-label"/>
                <Label fx:id="securityQuestionLabel" text="Where was your first honeymoon?"
                       style="-fx-text-fill: #1F2937; -fx-font-size: 14px; -fx-padding: 10 0;"/>
            </VBox>

            <!-- Answer -->
            <VBox spacing="8">
                <Label text="Answer" styleClass="field-label"/>
                <TextField fx:id="answerField" promptText="Kyoto, Japan"
                           styleClass="auth-field"/>
            </VBox>

            <!-- New Password -->
            <VBox spacing="8">
                <Label text="New Password" styleClass="field-label"/>
                <PasswordField fx:id="newPasswordField" promptText="••••••••••••••••"
                               styleClass="auth-field"/>
            </VBox>

            <!-- Message Label -->
            <Label fx:id="messageLabel" text="Password Reset Successful"
                   styleClass="success-label" managed="false" visible="false"/>

            <!-- Confirm Button -->
            <Button fx:id="confirmButton" text="Confirm" styleClass="auth-button"
                    onAction="#handleConfirm" maxWidth="Infinity"/>
        </VBox>

        <Region VBox.vgrow="SOMETIMES"/>
    </VBox>

    <!-- Right Side - Background Image -->
    <StackPane styleClass="auth-right" HBox.hgrow="ALWAYS"/>

</HBox>